<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vintage Shop - –ú–∞–≥–∞–∑–∏–Ω –≤–∏–Ω—Ç–∞–∂–Ω–æ–π –æ–¥–µ–∂–¥—ã</title>
    <style>
    /* –§–∏–∫—Å–∏—Ä—É–µ–º —à–∏—Ä–∏–Ω—É –∏ –æ—Ç–∫–ª—é—á–∞–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
html, body {
    overflow-x: hidden;
    max-width: 100%;
    position: relative;
}

* {
    box-sizing: border-box;
}
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .header {
            background: linear-gradient(45deg, #ffd700, #ffeb3b, #ffffff, #ffc107, #ffd700, #ffa000);
            background-size: 600% 600%;
            color: #333;
            padding: 3rem 0;
            text-align: center;
            animation: gradientShift 15s ease infinite;
        }
/* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ—Å–ª–µ —Ö–µ–¥–µ—Ä–∞ */
.header::after {
    content: '';
    position: absolute;
    bottom: -20px;
    left: 0;
    width: 100%;
    height: 40px;
    background: linear-gradient(to bottom, rgba(245, 245, 245, 0) 0%, #f5f5f5 100%);
    pointer-events: none;
}
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            33% { background-position: 100% 100%; }
            66% { background-position: 50% 0%; }
            100% { background-position: 0% 50%; }
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.5);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

.cart-icon {
    position: fixed;
    top: 15px;        /* –í —Å–∞–º—ã–π –≤–µ—Ä—Ö */
    right: 15px;      /* –í —Å–∞–º—ã–π –ø—Ä–∞–≤—ã–π —É–≥–æ–ª */
    background: #ffd700;
    border-radius: 50%;
    width: 40px;      /* –£–º–µ–Ω—å—à–∏–ª–∏ –≤ 2 —Ä–∞–∑–∞ (–±—ã–ª–æ 60px) */
    height: 40px;     /* –£–º–µ–Ω—å—à–∏–ª–∏ –≤ 2 —Ä–∞–∑–∞ (–±—ã–ª–æ 60px) */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    z-index: 1001;
    font-size: 1rem;  /* –£–º–µ–Ω—å—à–∏–ª–∏ —à—Ä–∏—Ñ—Ç */
    transition: all 0.3s ease;
}

.cart-count {
    position: absolute;
    top: -3px;        /* –ü–æ–¥–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–∑–∏—Ü–∏—é */
    right: -3px;      /* –ü–æ–¥–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–∑–∏—Ü–∏—é */
    background: #ff4444;
    color: white;
    border-radius: 50%;
    width: 18px;      /* –£–º–µ–Ω—å—à–∏–ª–∏ */
    height: 18px;     /* –£–º–µ–Ω—å—à–∏–ª–∏ */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem; /* –£–º–µ–Ω—å—à–∏–ª–∏ —à—Ä–∏—Ñ—Ç */
    font-weight: bold;
}

/* –ö—Ä–∞—Å–∏–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–æ—Ä–∑–∏–Ω—É */
.cart-icon:hover {
    transform: scale(1.15);
    background: #ffc107;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}
        
        .search-section {
            background: white;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 600px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 1rem;
        }

        .search-box input {
            flex: 1;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 18px;
            height: 55px;
        }
        
        .search-box button {
            padding: 12px 24px;
            background: #ffd700;
            color: #333;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            height: 55px;
            min-width: 140px;
        }
        
        .search-box button:hover {
            background: #ffc107;
        }

        .search-box button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: none;
        }

        .search-box button:hover::before {
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-image {
            height: 300px;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: top center;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }
        
        .product-info {
            padding: 1.5rem;
        }
        
        .product-article {
            background: #000;
            color: #ffd700;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .product-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c5530;
            margin: 0.5rem 0;
        }
        
        .product-description {
            color: #666;
            margin-bottom: 1rem;
            line-height: 1.5;
        }
        
        .product-actions {
            display: flex;
            gap: 10px;
        }

        .buy-button {
            flex: 1;
            padding: 12px;
            background: #000;
            color: #ffd700;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background 0.3s ease;
        }
        
        .buy-button:hover {
            background: #333;
        }

        .cart-button {
            flex: 1;
            padding: 12px;
            background: #ffd700;
            color: #333;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background 0.3s ease;
        }

        .cart-button:hover {
            background: #ffc107;
        }
        
        .hidden {
            display: none;
        }
        
        .back-button {
            background: #666;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 1rem;
        }
        
        .back-button:hover {
            background: #555;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 2rem 0;
            padding: 0 2rem;
        }
        
        .page-button {
            padding: 10px 15px;
            background: white;
            border: 2px solid #000;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .page-button.active {
            background: #000;
            color: #ffd700;
        }
        
        .page-button:hover:not(.active) {
            background: #f0f0f0;
        }
        
        .category-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        
        .category-button {
            padding: 10px 20px;
            background: white;
            border: 2px solid #000;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .category-button.active {
            background: #000;
            color: #ffd700;
        }
        
        .category-button:hover {
            transform: scale(1.05);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 999;
            padding: 2rem;
            overflow-y: auto;
        }

        .cart-sidebar.open {
            right: 0;
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            z-index: 998;
        }

        .cart-overlay.show {
            display: block;
        }

        .cart-item {
            display: flex;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background: #f0f0f0;
            border-radius: 5px;
            overflow: hidden;
        }

        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-price {
            font-weight: bold;
            color: #2c5530;
        }
.cart-item-image, .cart-item-info {
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.cart-item-image:hover, .cart-item-info:hover {
    background-color: #f9f9f9;
    border-radius: 5px;
}

        .remove-from-cart {
            background: #ff4444;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
        }

        .cart-total {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 1rem 0;
            text-align: center;
        }

        .checkout-button {
            width: 100%;
            padding: 15px;
            background: #000;
            color: #ffd700;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 1rem;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫–∏–¥–æ–∫ */
        .discount-badge {
            background: linear-gradient(45deg, #ff4444, #ff6b6b);
            color: white;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(255, 68, 68, 0.3);
        }
        
        .old-price {
            text-decoration: line-through;
            color: #999;
            font-size: 0.9em;
        }
        
        .new-price {
            color: #2c5530;
            font-weight: bold;
            font-size: 1.1em;
        }
        
        .price-container {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* –ò–∫–æ–Ω–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ */
.favorite-icon {
    position: fixed;
    top: 70px;        /* –ü–æ–¥–Ω–∏–º–∞–µ–º –≤—ã—à–µ */
    right: 15px;
    background: #ff4757;
    border-radius: 50%;
    width: 40px;      /* –£–º–µ–Ω—å—à–∞–µ–º */
    height: 40px;     /* –£–º–µ–Ω—å—à–∞–µ–º */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(255, 71, 87, 0.3);
    z-index: 1001;
    font-size: 1rem;  /* –£–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç */
    transition: all 0.3s ease;
}

        .favorite-icon:hover {
            transform: scale(1.1);
            background: #ff3742;
        }

.favorite-count {
    position: absolute;
    top: -3px;
    right: -3px;
    background: #000;
    color: white;
    border-radius: 50%;
    width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: bold;
}

        /* –ü–∞–Ω–µ–ª—å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ */
        .favorite-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 999;
            padding: 2rem;
            overflow-y: auto;
        }

        .favorite-sidebar.open {
            right: 0;
        }

        .favorite-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            z-index: 998;
        }

        .favorite-overlay.show {
            display: block;
        }

.favorite-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding: 1.5rem 1.5rem 1rem;
    border-bottom: 2px solid #eee;
    background: linear-gradient(45deg, #fff5f5, #fff);
}

.favorite-header h3 {
    color: #ff4757;
    font-size: 1.3rem;
    margin: 0;
}

        .favorite-header button {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        /* –°–µ—Ä–¥–µ—á–∫–æ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞ */
        .favorite-heart {
            position: absolute;
            top: 10px;
            right: 10px;
            background: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 10;
        }

        .favorite-heart:hover {
            transform: scale(1.1);
        }

        .favorite-heart.active {
            color: #ff4757;
            background: #fff;
        }

.favorite-item {
    display: flex;
    gap: 1rem;
    padding: 1rem 0;
    border-bottom: 1px solid #eee;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.favorite-item:hover {
    background-color: #f9f9f9;
    border-radius: 8px;
    padding: 1rem;
    margin: 0 -0.5rem;
}

.favorite-item-image {
    width: 80px;
    height: 80px;
    background: #f0f0f0;
    border-radius: 5px;
    overflow: hidden;
    flex-shrink: 0;
}

.favorite-item-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.favorite-item-info {
    flex: 1;
    min-width: 0; /* –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Ç–µ–∫—Å—Ç–∞ */
}

.favorite-item-info h4 {
    margin: 0 0 0.5rem 0;
    color: #333;
    font-size: 1rem;
}

.favorite-item-price {
    font-weight: bold;
    color: #2c5530;
    margin-bottom: 0.5rem;
}

.remove-favorite {
    background: #ff4757;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 12px;
    transition: background-color 0.3s ease;
}

.remove-favorite:hover {
    background: #ff3742;
}
.favorite-item {
    position: relative;
}

.favorite-item::after {
    content: 'üëÜ –ù–∞–∂–º–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞';
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    background: #333;
    color: white;
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 0.7rem;
    opacity: 0;
    transition: opacity 0.3s ease, top 0.3s ease;
    pointer-events: none;
    white-space: nowrap;
}

.favorite-item:hover::after {
    opacity: 1;
    top: -30px;
}
        /* –ê–Ω–∏–º–∞—Ü–∏—è Telegram –∏–∫–æ–Ω–∫–∏ */
        .telegram-link:hover .telegram-icon {
            transform: translateY(-5px);
        }
        
        .telegram-link:hover .telegram-icon img {
            filter: drop-shadow(0 4px 15px rgba(0, 136, 204, 0.8));
            animation: telegramFly 0.6s ease-in-out infinite alternate;
        }
        
        @keyframes telegramFly {
            0% { transform: translateY(0); }
            100% { transform: translateY(-3px); }
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç "–ø—É–ª—å—Å–∞—Ü–∏–∏" –≤–æ–∫—Ä—É–≥ –∏–∫–æ–Ω–∫–∏ */
        .telegram-icon::before {
            content: '';
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            background: radial-gradient(circle, rgba(0, 136, 204, 0.4) 0%, transparent 70%);
            border-radius: 50%;
            animation: pulse 2s infinite;
            z-index: -1;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.1); opacity: 0.3; }
            100% { transform: scale(1); opacity: 0.6; }
        }
        /* –í–∑–∞–∏–º–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–∞–Ω–µ–ª—è—Ö */
.cart-sidebar.open ~ .favorite-icon {
    top: 170px;
    opacity: 0.7;
    transition: all 0.3s ease;
}

.favorite-sidebar.open ~ .cart-icon {
    top: 170px;
    opacity: 0.7;
    transition: all 0.3s ease;
}

/* –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –º–µ—Å—Ç–æ –∫–æ–≥–¥–∞ –æ–±–µ –∑–∞–∫—Ä—ã—Ç—ã */
.cart-icon, .favorite-icon {
    transition: all 0.3s ease;
}
/* ‚ñº‚ñº‚ñº –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ –î–õ–Ø –¢–ï–õ–ï–§–û–ù–û–í ‚ñº‚ñº‚ñº */

/* –î–ª—è —ç–∫—Ä–∞–Ω–æ–≤ –º–µ–Ω—å—à–µ 768px (—Ç–µ–ª–µ—Ñ–æ–Ω—ã) */
@media (max-width: 768px) {
    /* –®–∞–ø–∫–∞ */
    .header h1 {
        font-size: 2rem !important;
    }
    
    .header p {
        font-size: 1rem !important;
    }
    
    /* –ü–æ–∏—Å–∫ */
    .search-section {
        margin: 1rem auto !important;
        padding: 1rem !important;
    }
    
    .search-box {
        flex-direction: column !important;
    }
    
    .search-box input {
        font-size: 16px !important; /* –û—Ç–∫–ª—é—á–∞–µ—Ç –∑—É–º –≤ iOS */
        height: 50px !important;
    }
    
    .search-box button {
        height: 50px !important;
        min-width: auto !important;
    }
    
    /* –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ */
    .products-grid {
        grid-template-columns: 1fr 1fr !important; /* 2 –∫–æ–ª–æ–Ω–∫–∏ –≤–º–µ—Å—Ç–æ 4 */
        gap: 1rem !important;
        padding: 1rem !important;
    }
    
    .product-image {
        height: 200px !important; /* –£–º–µ–Ω—å—à–∞–µ–º –≤—ã—Å–æ—Ç—É –∫–∞—Ä—Ç–∏–Ω–æ–∫ */
    }
    
    /* –ö–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
    .category-buttons {
        flex-wrap: wrap !important;
        padding: 0 1rem !important;
    }
    
    .category-button {
        padding: 8px 16px !important;
        font-size: 14px !important;
    }
    
    /* –ö–æ—Ä–∑–∏–Ω–∞ –∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ */
    .cart-sidebar,
    .favorite-sidebar {
        width: 100% !important; /* –ù–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
        right: -100% !important;
    }
    
    .cart-icon,
    .favorite-icon {
        width: 50px !important;
        height: 50px !important;
        font-size: 1.2rem !important;
    }
    
    /* –ö–Ω–æ–ø–∫–∏ –≤ —Ç–æ–≤–∞—Ä–∞—Ö */
    .product-actions {
        flex-direction: column !important;
    }
    
    .buy-button,
    .cart-button {
        padding: 15px !important; /* –ë–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–∞–ª—å—Ü–µ–≤ */
        font-size: 14px !important;
    }
    
    /* –§—É—Ç–µ—Ä */
    footer {
        padding: 2rem 1rem !important;
    }
    
    /* –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å */
    #adminPanel > div {
        margin: 1rem !important;
        padding: 1rem !important;
    }
}

/* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ (–º–µ–Ω—å—à–µ 480px) */
@media (max-width: 480px) {
    .products-grid {
        grid-template-columns: 1fr !important; /* 1 –∫–æ–ª–æ–Ω–∫–∞ */
    }
    
    .header h1 {
        font-size: 1.8rem !important;
    }
    
    .product-info {
        padding: 1rem !important;
    }
}
    </style>
</head>
<body>
    <!-- –ò–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div class="cart-icon" onclick="toggleCart()">
        üõí
        <div class="cart-count" id="cartCount">0</div>
    </div>

    <!-- –ò–∫–æ–Ω–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
    <div class="favorite-icon" onclick="toggleFavoritePanel()">
        ‚ù§Ô∏è
        <div class="favorite-count" id="favoriteCount">0</div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
<div class="favorite-sidebar" id="favoriteSidebar">
    <div class="favorite-header">
        <h3 style="margin: 0;">‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h3>
        <button onclick="toggleFavoritePanel()" style="
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 5px;
        ">‚úï</button>
    </div>
    <div style="padding: 0 1rem;">
        <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">
            üí° –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–æ–≤–∞—Ä, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ –µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—é
        </p>
    </div>
    <div id="favoriteItems" style="padding: 0 1rem;">
        <!-- –¢–æ–≤–∞—Ä—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º -->
    </div>
</div>

    <div class="favorite-overlay" id="favoriteOverlay" onclick="toggleFavoritePanel()"></div>

    <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã -->
    <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>

    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∫–æ—Ä–∑–∏–Ω—ã -->
    <div class="cart-sidebar" id="cartSidebar">
        <h2>üõí –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
        <div id="cartItems">
            <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
        </div>
        <div class="cart-total" id="cartTotal">–ò—Ç–æ–≥–æ: 0 —Ä.</div>
        <button class="checkout-button" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ë–ï–ó –≥–∞–ª–æ—á–∫–∏ -->
    <div id="notification" style="
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%) translateY(-100px);
        background: #4CAF50;
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 10000;
        transition: transform 0.3s ease;
        font-weight: bold;
        opacity: 0;
    ">
        <span id="notificationText">–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É</span>
    </div>

    <header class="header">
        <h1>Vintage Shop</h1>
        <p>–£–Ω–∏–∫–∞–ª—å–Ω–∞—è –≤–∏–Ω—Ç–∞–∂–Ω–∞—è –æ–¥–µ–∂–¥–∞ —Å –¥—É—à–æ–π</p>
    </header>

<div class="category-buttons">
    <button class="category-button active" onclick="goToCategory('all')">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
    <button class="category-button" onclick="goToCategory('jackets')">üß• –ö—É—Ä—Ç–∫–∏</button>
    <button class="category-button" onclick="goToCategory('jeans')">üëñ –î–∂–∏–Ω—Å—ã</button>
</div>
<section class="search-section">
    <h2>üîç –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤</h2>
    
    <!-- –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É -->
    <p>–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–æ–≤–∞—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1, 2, 3, 4)</p>
    <div class="search-box">
        <input type="number" id="articleInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–æ–≤–∞—Ä–∞..." min="1" oninput="searchByArticleLive()">
        <button onclick="searchByArticle()">–ù–∞–π—Ç–∏ –ø–æ –Ω–æ–º–µ—Ä—É</button>
    </div>
    
    <!-- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é -->
    <p style="margin-top: 1rem;">–ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é</p>
    <div class="search-box">
        <input type="text" id="searchByNameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞..." oninput="searchByNameLive()">
        <button onclick="searchByName()">–ù–∞–π—Ç–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é</button>
    </div>
</section>
<!-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
<div style="text-align: center; margin: 1rem 0;">
    <label for="sortSelect" style="font-weight: bold; margin-right: 10px;">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
    <select id="sortSelect" onchange="sortProducts(this.value)" style="
        padding: 8px 12px;
        border: 2px solid #000;
        border-radius: 5px;
        font-size: 14px;
        background: white;
    ">
        <option value="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
        <option value="name_asc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–ê-–Ø)</option>
        <option value="name_desc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–Ø-–ê)</option>
        <option value="price_asc">–ü–æ —Ü–µ–Ω–µ (—Å–Ω–∞—á–∞–ª–∞ –¥–µ—à–µ–≤—ã–µ)</option>
        <option value="price_desc">–ü–æ —Ü–µ–Ω–µ (—Å–Ω–∞—á–∞–ª–∞ –¥–æ—Ä–æ–≥–∏–µ)</option>
    </select>
</div>
    <section id="allProducts">
        <div class="products-grid" id="productsGrid">
            <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
        
        <div class="pagination" id="pagination">
            <!-- –ö–Ω–æ–ø–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –∑–¥–µ—Å—å -->
        </div>
    </section>

    <section id="singleProduct" class="hidden">
        <div style="max-width: 800px; margin: 0 auto; padding: 2rem;">
            <button class="back-button" onclick="showAllProducts()">‚Üê –ù–∞–∑–∞–¥ –∫–æ –≤—Å–µ–º —Ç–æ–≤–∞—Ä–∞–º</button>
            <div id="productDetail">
                <!-- –î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
            </div>
        </div>
    </section>

    <!-- –§—É—Ç–µ—Ä -->
    <footer style="
        background: linear-gradient(45deg, #000, #333);
        color: white;
        padding: 3rem 0;
        margin-top: 4rem;
        text-align: center;
    ">
        <div style="text-align: center;">
            <h4 style="color: #ffd700; margin-bottom: 1rem;">üí¨ Telegram</h4>
            <a href="https://t.me/KorpamitBot" 
               style="text-decoration: none; display: inline-block;" 
               class="telegram-link">
                <div class="telegram-icon" style="
                    width: 60px;
                    height: 60px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin: 0 auto 1rem;
                    transition: all 0.5s ease;
                    position: relative;
                ">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" 
                         alt="Telegram" 
                         style="
                             width: 30px;
                             height: 30px;
                             transition: all 0.5s ease;
                             filter: drop-shadow(0 2px 8px rgba(0, 136, 204, 0.6));
                         ">
                </div>
            </a>
            <p style="color: #ccc;">–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ Telegram</p>
        </div>
                
        <div style="text-align: center;">
            <h4 style="color: #ffd700; margin-bottom: 1rem;">üïí –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</h4>
            <p style="color: #ccc;">–ü–Ω-–í—Å: 10:00 - 22:00</p>
            <p style="color: #ccc;">–ú–∏–Ω—Å–∫, –¥–æ—Å—Ç–∞–≤–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ</p>
        </div>
                
        <div style="text-align: center;">
            <h4 style="color: #ffd700; margin-bottom: 1rem;">üí≥ –û–ø–ª–∞—Ç–∞</h4>
            <p style="color: #ccc;">–ù–∞–ª–∏—á–Ω—ã–µ –ø—Ä–∏ –≤—Å—Ç—Ä–µ—á–µ</p>
            <p style="color: #ccc;">–ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</p>
        </div>

        <div style="border-top: 1px solid #444; padding-top: 2rem;">
            <p style="color: #888; margin: 0;">¬© 2024 Vintage Shop. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div id="adminPanel" style="display: none;">
        <div style="
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            padding: 2rem;
            overflow-y: auto;
        ">
            <div style="
                max-width: 900px;
                margin: 2rem auto;
                background: white;
                border-radius: 15px;
                padding: 2rem;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            ">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <h2 style="color: #333; margin: 0;">üõ†Ô∏è –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏</h2>
                    <button onclick="hideAdminPanel()" style="
                        background: #ff4444;
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 5px;
                        cursor: pointer;
                        font-size: 16px;
                    ">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-bottom: 2rem;" id="adminStats">
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
                </div>
<!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞–º–∏ -->
<div style="background: #f0f8ff; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
    <h3 style="color: #333; margin-bottom: 1rem;">üìÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞–º–∏</h3>
    
    <div style="display: grid; grid-template-columns: 1fr auto; gap: 1rem; margin-bottom: 1rem;">
        <input type="text" id="newCategoryName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞" style="
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        ">
        <button onclick="addNewCategory()" style="
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        ">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª</button>
    </div>
    
    <div id="categoriesList">
        <!-- –°–ø–∏—Å–æ–∫ —Ä–∞–∑–¥–µ–ª–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
    </div>
</div>

<!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
<div style="background: #f9f9f9; padding: 2rem; border-radius: 10px; margin-bottom: 2rem;">
    <h3 style="color: #333; margin-bottom: 1rem;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h3>
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
        <div>
            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
            <input type="text" id="adminProductName" style="
                width: 100%;
                padding: 10px;
                border: 2px solid #ddd;
                border-radius: 5px;
                font-size: 16px;
            " placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö—É—Ä—Ç–∫–∞ –∫–æ–∂–∞–Ω–∞—è">
        </div>
        
        <div>
            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">–¶–µ–Ω–∞:</label>
            
            <!-- –¶–µ–Ω–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π -->
            <div style="margin-bottom: 8px;">
                <label style="display: block; margin-bottom: 3px; font-size: 14px; color: #2e7d32; font-weight: bold;">
                    ‚úÖ –¶–µ–Ω–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π (–∏—Ç–æ–≥–æ–≤–∞—è):
                </label>
                <div style="display: flex; align-items: center; gap: 5px;">
                    <input type="text" id="adminProductPrice" style="
                        flex: 1;
                        padding: 10px;
                        border: 2px solid #2e7d32;
                        border-radius: 5px;
                        font-size: 16px;
                        background: #f0f9f0;
                    " placeholder="150" oninput="formatPrice(this)">
                    <span style="color: #2e7d32; font-weight: bold;">BYN</span>
                </div>
            </div>
            
            <!-- –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ -->
            <div style="margin-bottom: 8px;">
                <label style="display: block; margin-bottom: 3px; font-size: 14px; color: #ff4444; font-weight: bold;">
                    üè∑Ô∏è –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ (–±–µ–∑ —Å–∫–∏–¥–∫–∏):
                </label>
                <div style="display: flex; align-items: center; gap: 5px;">
                    <input type="text" id="adminProductOldPrice" style="
                        flex: 1;
                        padding: 10px;
                        border: 2px solid #ff4444;
                        border-radius: 5px;
                        font-size: 16px;
                        background: #fff5f5;
                    " placeholder="200" oninput="formatPrice(this)">
                    <span style="color: #ff4444; font-weight: bold;">BYN</span>
                </div>
                <div style="font-size: 12px; color: #666; margin-top: 3px;">
                    üí° –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ —Å–∫–∏–¥–∫–∏ –Ω–µ—Ç
                </div>
            </div>
            
            <div id="discountCalculation" style="font-size: 12px; color: #666; margin-top: 5px;"></div>
        </div>
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
        <div>
            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
            <select id="adminProductCategory" style="
                width: 100%;
                padding: 10px;
                border: 2px solid #ddd;
                border-radius: 5px;
                font-size: 16px;
            ">
                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ JavaScript -->
            </select>
        </div>
        
        <div>
            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">–†–∞–∑–º–µ—Ä:</label>
            <input type="text" id="adminProductSize" style="
                width: 100%;
                padding: 10px;
                border: 2px solid #ddd;
                border-radius: 5px;
                font-size: 16px;
            " placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: M, L, XL">
        </div>
    </div>

    <div style="margin-bottom: 1rem;">
        <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
        <textarea id="adminProductDescription" style="
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            height: 80px;
            resize: vertical;
        " placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞"></textarea>
    </div>

    <div style="margin-bottom: 1rem;">
        <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">–ö–∞—Ä—Ç–∏–Ω–∫–∞ —Ç–æ–≤–∞—Ä–∞:</label>
        
        <!-- –ü—Ä–æ—Å—Ç–æ–µ –ø–æ–ª–µ –¥–ª—è —Å—Å—ã–ª–∫–∏ -->
        <input type="text" id="adminProductImage" style="
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        " placeholder="https://i.imgur.com/XXXXXXXXX.jpg" oninput="previewImageFromUrl(this.value)">
        
        <!-- –ü—Ä–µ–≤—å—é -->
        <div id="imagePreview" style="margin-top: 10px; text-align: center;"></div>
        
        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Imgur -->
        <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin-top: 10px;">
            <h4 style="margin: 0 0 10px 0; color: #856404;">üéØ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É Imgur:</h4>
            <ol style="margin: 0; padding-left: 20px; color: #856404;">
                <li>–ó–∞–π–¥–∏—Ç–µ –Ω–∞ <a href="https://imgur.com/upload" target="_blank" style="color: #1976d2;">Imgur.com/upload</a></li>
                <li>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –æ–∫–Ω–æ</li>
                <li>–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É ‚Üí "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"</li>
                <li>–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –≤ –ø–æ–ª–µ –≤—ã—à–µ</li>
            </ol>
            <div style="color: #856404; font-size: 12px; margin-top: 10px;">
                üí° –°—Å—ã–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫: <code>https://i.imgur.com/XXXXXXX.jpg</code>
            </div>
        </div>
    </div>

    <button onclick="addProductViaAdmin()" style="
        background: #000;
        color: #ffd700;
        border: none;
        padding: 12px 30px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        width: 100%;
    ">‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
</div>

<!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
<div>
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h3 style="color: #333; margin: 0;">üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h3>
        <div style="display: flex; gap: 10px; align-items: center;">
            <input type="text" id="adminSearchInput" placeholder="üîç –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." style="
                padding: 8px 12px;
                border: 2px solid #ddd;
                border-radius: 5px;
                font-size: 14px;
                width: 250px;
            ">
            <button onclick="clearAdminSearch()" style="
                background: #666;
                color: white;
                border: none;
                padding: 8px 12px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
            ">–û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
    </div>
    <div id="adminProductsList" style="
        max-height: 500px;
        overflow-y: auto;
        border: 2px solid #eee;
        border-radius: 10px;
        padding: 1rem;
    ">
        <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Ç–æ–≤–∞—Ä—ã -->
    </div>
</div>
</div>
</div>
</div>

<script>
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    let products = {};
    let currentPage = 1;
    const productsPerPage = 8;
    let currentCategory = 'all';
    let cart = [];
    let favorites = [];
    let editingProductId = null;
    const ADMIN_PASSWORD = "1";
// –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≤—Å–µ–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
function syncDataAcrossDevices() {
    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    const standardCategories = {
        'jackets': { name: '–ö—É—Ä—Ç–∫–∏' },
        'jeans': { name: '–î–∂–∏–Ω—Å—ã' },
        'hats': { name: '–®–∞–ø–∫–∏' }  // –î–æ–±–∞–≤–ª—è–µ–º —à–∞–ø–∫–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
    };
    
    localStorage.setItem('vintageShopCategories', JSON.stringify(standardCategories));
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
    Object.values(products).forEach(product => {
        if (!product.category) {
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            if (product.name.includes('–∫—É—Ä—Ç') || product.name.includes('–ö—É—Ä—Ç')) {
                product.category = 'jackets';
            } else if (product.name.includes('–¥–∂–∏–Ω—Å') || product.name.includes('–î–∂–∏–Ω—Å')) {
                product.category = 'jeans';
            } else {
                product.category = 'hats'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ —à–∞–ø–∫–∏
            }
        }
    });
    
    saveProductsToStorage();
}

// –í—ã–∑–æ–≤–∏—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    initializeProducts();
    syncDataAcrossDevices();  
});
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
function initializeProducts() {
    const savedProducts = localStorage.getItem('vintageShopProducts');
    
    if (savedProducts && Object.keys(JSON.parse(savedProducts)).length > 0) {
        products = JSON.parse(savedProducts);
    } else {
        // –°–æ–∑–¥–∞–µ–º –¢–û–õ–¨–ö–û –≤–∞—à–∏ 2 —Ç–µ–∫—É—â–∏—Ö —Ç–æ–≤–∞—Ä–∞
        products = {
            1: {
                name: '–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞',
                category: 'jackets', // –∏–ª–∏ 'hats'
                price: '100 BYN',
                oldPrice: null,
                size: 'M',
                description: '–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞',
                image: 'URL_–≤–∞—à–µ–π_–∫–∞—Ä—Ç–∏–Ω–∫–∏.jpg',
                hasDiscount: false
            },
            2: {
                name: '–ù–∞–∑–≤–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ —Ç–æ–≤–∞—Ä–∞', 
                category: 'jeans',
                price: '150 BYN',
                oldPrice: null,
                size: 'L',
                description: '–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞',
                image: 'URL_–∫–∞—Ä—Ç–∏–Ω–∫–∏.jpg',
                hasDiscount: false
            }
        };
        saveProductsToStorage();
    }
}
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Ç–æ–≤–∞—Ä–∞
function getNiceProductNumber() {
    // –ü—Ä–æ—Å—Ç–æ –Ω–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π ID –∏ +1
    let maxId = 0;
    Object.keys(products).forEach(id => {
        const numId = parseInt(id);
        if (numId > maxId && numId < 10000) { // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞
            maxId = numId;
        }
    });
    return maxId + 1;
}
function filterAdminProducts(searchTerm) {
    const container = document.getElementById('adminProductsList');
    if (!container) return;

    container.innerHTML = '';

    const filteredProducts = Object.entries(products).filter(([id, product]) => {
        const searchLower = searchTerm.toLowerCase();
        return (
            product.name.toLowerCase().includes(searchLower) ||
            product.price.toLowerCase().includes(searchLower) ||
            product.size.toLowerCase().includes(searchLower) ||
            product.description.toLowerCase().includes(searchLower) ||
            id.toString().includes(searchTerm)  // ‚Üê –ò–©–ï–ú –ü–û ID (–Ω–æ–º–µ—Ä—É —Ç–æ–≤–∞—Ä–∞)
        );
    });

    if (filteredProducts.length === 0) {
        container.innerHTML = '<div style="text-align: center; color: #666; padding: 2rem;">üòû –¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
        return;
    }

    filteredProducts.forEach(([id, product]) => {
        const productElement = document.createElement('div');
        productElement.style.cssText = `
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            background: white;
            margin-bottom: 0.5rem;
            border-radius: 5px;
        `;

        productElement.innerHTML = `
            <div style="flex: 1;">
                <strong>${product.name}</strong><br>
                <small>‚Ññ${id} | –¶–µ–Ω–∞: ${product.price} | –†–∞–∑–º–µ—Ä: ${product.size} | –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${product.category === 'jackets' ? 'üß• –ö—É—Ä—Ç–∫–∏' : 'üëñ –î–∂–∏–Ω—Å—ã'}</small>
            </div>
            <div style="display: flex; gap: 10px;">
                <button onclick="editProduct(${id})" style="
                    background: #4CAF50;
                    color: white;
                    border: none;
                    padding: 5px 10px;
                    border-radius: 3px;
                    cursor: pointer;
                    font-size: 12px;
                ">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <button onclick="deleteProduct(${id})" style="
                    background: #ff4444;
                    color: white;
                    border: none;
                    padding: 5px 10px;
                    border-radius: 3px;
                    cursor: pointer;
                    font-size: 12px;
                ">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
            </div>
        `;

        container.appendChild(productElement);
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ—Å—Ç–æ–π –Ω—É–º–µ—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
function ensureSimpleNumbering() {
    let maxId = 0;
    
    // –ù–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ID
    Object.keys(products).forEach(id => {
        const numId = parseInt(id);
        if (numId > maxId) {
            maxId = numId;
        }
    });
 // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ ID —Ç–æ–≤–∞—Ä–∞
function getNextProductId() {
    let maxId = 0;
    Object.keys(products).forEach(id => {
        const numId = parseInt(id);
        if (numId > maxId) {
            maxId = numId;
        }
    });
    return maxId + 1;
}   
    // –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã —Å –¥–ª–∏–Ω–Ω—ã–º–∏ ID (–æ—Ç Date.now()), –ø–µ—Ä–µ–Ω—É–º–µ—Ä—É–µ–º –∏—Ö
    const needsRenumbering = Object.keys(products).some(id => id.length > 6);
    
    if (needsRenumbering) {
        const newProducts = {};
        let nextId = maxId + 1;
        
        Object.entries(products).forEach(([oldId, product]) => {
            if (oldId.length <= 6) {
                // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã —Å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ ID –∫–∞–∫ –µ—Å—Ç—å
                newProducts[oldId] = product;
            } else {
                // –ü–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã —Å –¥–ª–∏–Ω–Ω—ã–º–∏ ID
                newProducts[nextId] = product;
                nextId++;
            }
        });
        
        products = newProducts;
        saveProductsToStorage();
    }
}
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —á–∏—Å–µ–ª –∏–∑ —Ü–µ–Ω—ã
    function extractNumber(priceString) {
        if (!priceString) return 0;
        const number = parseFloat(priceString.toString().replace(/[^\d.]/g, ''));
        return isNaN(number) ? 0 : number;
    }
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –ø—Ä–æ—Å—Ç—É—é –Ω—É–º–µ—Ä–∞—Ü–∏—é
function convertToSimpleNumbers() {
    const newProducts = {};
    let nextId = 1;
    
    Object.values(products).forEach(product => {
        newProducts[nextId] = product;
        nextId++;
    });
    
    products = newProducts;
    saveProductsToStorage();
    alert("‚úÖ –í—Å–µ —Ç–æ–≤–∞—Ä—ã –ø–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã! –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É.");
}
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Ç–æ–≤–∞—Ä–∞
function getNiceProductNumber() {
    // –ü—Ä–æ—Å—Ç–æ –Ω–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π ID –∏ +1
    let maxId = 0;
    Object.keys(products).forEach(id => {
        const numId = parseInt(id);
        if (numId > maxId && numId < 10000) { // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞
            maxId = numId;
        }
    });
    return maxId + 1;
}
    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
    function loadFavoritesFromStorage() {
        const savedFavorites = localStorage.getItem('vintageShopFavorites');
        if (savedFavorites) {
            favorites = JSON.parse(savedFavorites);
            updateFavorites();
        }
    }

    function updateFavorites() {
        const favoriteCount = document.getElementById('favoriteCount');
        if (favoriteCount) {
            favoriteCount.textContent = favorites.length;
        }
    }

    function saveFavoritesToStorage() {
        localStorage.setItem('vintageShopFavorites', JSON.stringify(favorites));
    }

function toggleFavorite(productId) {
    const heart = event.target.closest('.favorite-heart');
    
    if (favorites.includes(productId)) {
        favorites = favorites.filter(id => id !== productId);
        if (heart) {
            heart.classList.remove('active');
            heart.innerHTML = 'ü§ç';
        }
        // –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –ü–†–ò –£–î–ê–õ–ï–ù–ò–ò
        showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ', 'warning');
    } else {
        favorites.push(productId);
        if (heart) {
            heart.classList.add('active');
            heart.innerHTML = '‚ù§Ô∏è';
        }
        // –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –ü–†–ò –î–û–ë–ê–í–õ–ï–ù–ò–ò
        showNotification('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ');
    }
    
    updateFavorites();
    saveFavoritesToStorage();
    updateFavoriteItems();
    updateFavoriteHearts();
}

function updateFavoriteHearts() {
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    document.querySelectorAll('.favorite-heart').forEach(heart => {
        const productId = parseInt(heart.getAttribute('data-product-id'));
        if (favorites.includes(productId)) {
            heart.classList.add('active');
            heart.innerHTML = '‚ù§Ô∏è';
        } else {
            heart.classList.remove('active');
            heart.innerHTML = 'ü§ç';
        }
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞ (–µ—Å–ª–∏ –æ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∞)
    const productDetail = document.getElementById('productDetail');
    if (productDetail) {
        const productHeart = productDetail.querySelector('.favorite-heart');
        if (productHeart) {
            const productId = parseInt(productHeart.getAttribute('data-product-id'));
            if (favorites.includes(productId)) {
                productHeart.classList.add('active');
                productHeart.innerHTML = '‚ù§Ô∏è';
            } else {
                productHeart.classList.remove('active');
                productHeart.innerHTML = 'ü§ç';
            }
        }
    }
}

function updateFavoriteItems() {
    const favoriteItems = document.getElementById('favoriteItems');
    if (!favoriteItems) return;

    favoriteItems.innerHTML = '';
    
    if (favorites.length === 0) {
        favoriteItems.innerHTML = '<p style="text-align: center; color: #666; padding: 2rem;">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º –ø–æ–∫–∞ –ø—É—Å—Ç–æ ‚ù§Ô∏è</p>';
        return;
    }

    favorites.forEach(productId => {
        const product = products[productId];
        if (product) {
            const favoriteItem = document.createElement('div');
            favoriteItem.className = 'favorite-item';
            favoriteItem.onclick = function(event) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∫–ª–∏–∫–Ω—É–ª–∏ –ª–∏ –º—ã –Ω–∞ –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è
                if (!event.target.classList.contains('remove-favorite')) {
                    showProduct(productId);
                    toggleFavoritePanel(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
                }
            };
            
            favoriteItem.innerHTML = `
                <div class="favorite-item-image" onclick="event.stopPropagation(); showProduct(${productId}); toggleFavoritePanel();">
                    <img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.parentNode.innerHTML='üì∑'">
                </div>
                <div class="favorite-item-info">
                    <h4>${product.name}</h4>
                    <div class="favorite-item-price">${product.price}</div>
                    <div style="display: flex; gap: 10px; margin-top: 0.5rem;">
                        <button class="remove-favorite" onclick="event.stopPropagation(); removeFromFavorites(${productId})">
                            ‚ùå –£–¥–∞–ª–∏—Ç—å
                        </button>
                        <button class="cart-button" style="padding: 5px 10px; font-size: 12px;" onclick="event.stopPropagation(); addToCart(${productId});">
                            üõí –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>
            `;
            favoriteItems.appendChild(favoriteItem);
        }
    });
}

    function removeFromFavorites(productId) {
        favorites = favorites.filter(id => id !== productId);
        updateFavorites();
        saveFavoritesToStorage();
        updateFavoriteItems();
        updateFavoriteHearts();
    }
// –û—á–∏—Å—Ç–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –æ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
function cleanupFavorites() {
    favorites = favorites.filter(productId => products[productId]);
    updateFavorites();
    saveFavoritesToStorage();
}
// –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ç–æ–≤–∞—Ä—É –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
function showProductFromCart(productId) {
    showProduct(productId);
    toggleCart(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
}
function editProduct(productId) {
    const product = products[productId];
    if (!product) return;
    
    // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞ –∏–∑ —Ü–µ–Ω
    const priceNumber = extractNumber(product.price);
    const oldPriceNumber = product.oldPrice ? extractNumber(product.oldPrice) : '';
    
    // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞
    const nameInput = document.getElementById('adminProductName');
    const priceInput = document.getElementById('adminProductPrice');
    const oldPriceInput = document.getElementById('adminProductOldPrice');
    const categoryInput = document.getElementById('adminProductCategory');
    const sizeInput = document.getElementById('adminProductSize');
    const descriptionInput = document.getElementById('adminProductDescription');
    const imageInput = document.getElementById('adminProductImage');
    
    if (nameInput) nameInput.value = product.name;
    if (priceInput) priceInput.value = priceNumber;
    if (oldPriceInput) oldPriceInput.value = oldPriceNumber;
    if (categoryInput) categoryInput.value = product.category;
    if (sizeInput) sizeInput.value = product.size;
    if (descriptionInput) descriptionInput.value = product.description;
    if (imageInput) imageInput.value = product.image;
    
    editingProductId = productId;
    
    // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ñ–æ—Ä–º–µ
    const formElement = document.querySelector('#adminPanel [id="adminProductName"]');
    if (formElement) {
        formElement.scrollIntoView({ behavior: 'smooth' });
    }
    
    alert("‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä –∏ –Ω–∞–∂–º–∏—Ç–µ '–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä' –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è");
    
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–∫–∏–¥–∫—É –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
    setTimeout(() => {
        calculateDiscountForInputs(priceNumber, oldPriceNumber);
    }, 100);
}
// –û—á–∏—Å—Ç–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –æ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
function cleanupFavorites() {
    favorites = favorites.filter(productId => products[productId]);
    updateFavorites();
    saveFavoritesToStorage();
}
// –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ç–æ–≤–∞—Ä—É –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
function showProductFromCart(productId) {
    showProduct(productId);
    toggleCart(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
}
function toggleFavoritePanel() {
    const sidebar = document.getElementById('favoriteSidebar');
    const overlay = document.getElementById('favoriteOverlay');
    
    if (sidebar && overlay) {
        sidebar.classList.toggle('open');
        overlay.classList.toggle('show');
        updateFavoriteItems();
    }
}

function toggleCart() {
    const sidebar = document.getElementById('cartSidebar');
    const overlay = document.getElementById('cartOverlay');
    
    if (sidebar && overlay) {
        sidebar.classList.toggle('open');
        overlay.classList.toggle('show');
    }
}

    // –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
    function loadAllProducts(page = 1, category = 'all') {
        currentPage = page;
        currentCategory = category;
        
        const grid = document.getElementById('productsGrid');
        if (!grid) return;

        grid.innerHTML = '';

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        let filteredProducts = Object.entries(products);
        if (category !== 'all') {
            filteredProducts = filteredProducts.filter(([id, product]) => product.category === category);
        }

        // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
        const startIndex = (page - 1) * productsPerPage;
        const endIndex = startIndex + productsPerPage;
        const paginatedProducts = filteredProducts.slice(startIndex, endIndex);

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        document.querySelectorAll('.category-button').forEach(btn => {
            btn.classList.remove('active');
        });
        const activeButton = document.querySelector(`.category-button[onclick="filterCategory('${category}')"]`);
        if (activeButton) {
            activeButton.classList.add('active');
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
        paginatedProducts.forEach(([article, product]) => {
            const productCard = `
                <div class="product-card" onclick="showProduct(${article})" style="cursor: pointer;">
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.parentNode.innerHTML='üì∑ ${product.name}'">
                        <div class="favorite-heart" data-product-id="${article}" onclick="event.stopPropagation(); toggleFavorite(${article})">ü§ç</div>
                    </div>
                    <div class="product-info">
                        <span class="product-article">‚Ññ${article}</span>
                        <h3>${product.name}</h3>
                        <div class="product-price">
                            ${product.oldPrice && product.hasDiscount ? `
                                <div class="price-container">
                                    <div style="display: flex; flex-direction: column;">
                                        <span class="old-price">${product.oldPrice}</span>
                                        <span class="new-price">${product.price}</span>
                                    </div>
                                    <span class="discount-badge">
                                        -${Math.round((1 - extractNumber(product.price) / extractNumber(product.oldPrice)) * 100)}%
                                    </span>
                                </div>
                            ` : `
                                <span>${product.price}</span>
                            `}
                        </div>
                        <p><strong>–†–∞–∑–º–µ—Ä:</strong> ${product.size}</p>
                        <div class="product-actions">
                            <button class="cart-button" onclick="event.stopPropagation(); addToCart(${article})">
                                üõí –í –∫–æ—Ä–∑–∏–Ω—É
                            </button>
                        </div>
                    </div>
                </div>
            `;
            grid.innerHTML += productCard;
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        updateFavoriteHearts();

        // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
        updatePagination(filteredProducts.length, page, category);
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
    function updatePagination(totalProducts, currentPage, category) {
        const totalPages = Math.ceil(totalProducts / productsPerPage);
        const paginationDiv = document.getElementById('pagination');
        if (!paginationDiv) return;

        paginationDiv.innerHTML = '';

        for (let i = 1; i <= totalPages; i++) {
            const pageButton = document.createElement('button');
            pageButton.className = `page-button ${i === currentPage ? 'active' : ''}`;
            pageButton.textContent = i;
            pageButton.onclick = () => loadAllProducts(i, category);
            paginationDiv.appendChild(pageButton);
        }
    }

    // –ö–æ—Ä–∑–∏–Ω–∞
    function addToCart(productId) {
        const product = products[productId];
        if (!product) return;

        cart.push({
            id: productId,
            ...product
        });
        updateCart();
        showNotification('‚úì –¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É');
    }

    function removeFromCart(index) {
        cart.splice(index, 1);
        updateCart();
        showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã', 'warning');
    }
    

    function updateCart() {
        const cartCount = document.getElementById('cartCount');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        
        if (!cartCount || !cartItems || !cartTotal) return;

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
        cartCount.textContent = cart.length;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
        cartItems.innerHTML = '';
        let total = 0;
        
        cart.forEach((item, index) => {
            const price = extractNumber(item.price);
            total += price;
            
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
cartItem.innerHTML = `
    <div class="cart-item-image" onclick="showProductFromCart(${item.id})">
        <img src="${item.image}" alt="${item.name}" onerror="this.style.display='none'; this.parentNode.innerHTML='üì∑'">
    </div>
    <div class="cart-item-info" onclick="showProductFromCart(${item.id})">
        <h4>${item.name}</h4>
        <div class="cart-item-price">${item.price}</div>
    </div>
    <button class="remove-from-cart" onclick="removeFromCart(${index})">‚ùå</button>
`;
            cartItems.appendChild(cartItem);
        });
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É
        cartTotal.textContent = `–ò—Ç–æ–≥–æ: ${total} BYN`;
    }

    function toggleCart() {
    const sidebar = document.getElementById('cartSidebar');
    const overlay = document.getElementById('cartOverlay');
    
    if (sidebar && overlay) {
        sidebar.classList.toggle('open');
        overlay.classList.toggle('show');
    }
}

    function checkout() {
        if (cart.length === 0) {
            alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
            return;
        }
        
        const total = cart.reduce((sum, item) => sum + extractNumber(item.price), 0);
        const itemList = cart.map(item => `‚Ä¢ ${item.name} - ${item.price}`).join('\n');
        
        alert(`–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!\n\n–¢–æ–≤–∞—Ä—ã:\n${itemList}\n\n–û–±—â–∞—è —Å—É–º–º–∞: ${total} BYN\n\n–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –≤ Telegram –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π!`);
        
        // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
        cart = [];
        updateCart();
        toggleCart();
    }

    function saveProductsToStorage() {
        localStorage.setItem('vintageShopProducts', JSON.stringify(products));
    }

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    function filterCategory(category) {
        loadAllProducts(1, category);
    }

    // –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É
    function searchByArticle() {
        const articleInput = document.getElementById('articleInput');
        if (!articleInput) return;

        const article = articleInput.value;
        if (article && products[article]) {
            showProduct(article);
        } else {
            alert('–¢–æ–≤–∞—Ä —Å —Ç–∞–∫–∏–º –∞—Ä—Ç–∏–∫—É–ª–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω!');
        }
    }
// –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
function searchByName() {
    const searchTerm = document.getElementById('searchByNameInput').value.toLowerCase().trim();
    
    if (!searchTerm) {
        alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞!');
        return;
    }
    
    // –ò—â–µ–º —Ç–æ–≤–∞—Ä—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
    const foundProducts = Object.entries(products).filter(([id, product]) => 
        product.name.toLowerCase().includes(searchTerm)
    );
    
    if (foundProducts.length > 0) {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
        showSearchResults(foundProducts, `–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: "${searchTerm}"`);
    } else {
        alert('–¢–æ–≤–∞—Ä—ã –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–µ –Ω–∞–π–¥–µ–Ω—ã!');
    }
}

// –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
function showSearchResults(productsList, title) {
    const grid = document.getElementById('productsGrid');
    const pagination = document.getElementById('pagination');
    
    if (!grid) return;
    
    grid.innerHTML = '';
    pagination.innerHTML = '';
    
    // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    const resultsTitle = document.createElement('h3');
    resultsTitle.textContent = title;
    resultsTitle.style.textAlign = 'center';
    resultsTitle.style.marginBottom = '2rem';
    resultsTitle.style.color = '#333';
    grid.parentNode.insertBefore(resultsTitle, grid);
    
    // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
    const backButton = document.createElement('button');
    backButton.textContent = '‚Üê –ù–∞–∑–∞–¥ –∫–æ –≤—Å–µ–º —Ç–æ–≤–∞—Ä–∞–º';
    backButton.className = 'back-button';
    backButton.style.margin = '0 auto 2rem auto';
    backButton.style.display = 'block';
    backButton.onclick = () => {
        loadAllProducts();
        resultsTitle.remove();
        backButton.remove();
    };
    grid.parentNode.insertBefore(backButton, grid);
    
    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
    productsList.forEach(([article, product]) => {
        const productCard = `
            <div class="product-card" onclick="showProduct(${article})" style="cursor: pointer;">
                <div class="product-image">
                    <img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.parentNode.innerHTML='üì∑ ${product.name}'">
                    <div class="favorite-heart" data-product-id="${article}" onclick="event.stopPropagation(); toggleFavorite(${article})">ü§ç</div>
                </div>
                <div class="product-info">
                    <span class="product-article">‚Ññ${article}</span>
                    <h3>${product.name}</h3>
                    <div class="product-price">${product.price}</div>
                    <p><strong>–†–∞–∑–º–µ—Ä:</strong> ${product.size}</p>
                    <p><strong>–°–æ—Å—Ç–æ—è–Ω–∏–µ:</strong> ${product.condition}</p>
                    <div class="product-actions">
                        <button class="cart-button" onclick="event.stopPropagation(); addToCart(${article})">
                            üõí –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>
            </div>
        `;
        grid.innerHTML += productCard;
    });
    
    updateFavoriteHearts();
}
// –ñ–∏–≤–æ–π –ø–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–æ–≤–∞—Ä–∞
function searchByArticleLive() {
    const article = document.getElementById('articleInput').value;
    if (article && products[article]) {
        showProduct(article);
    }
}

// –ñ–∏–≤–æ–π –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
function searchByNameLive() {
    const searchTerm = document.getElementById('searchByNameInput').value.toLowerCase().trim();
    
    if (searchTerm.length < 2) {
        // –ï—Å–ª–∏ –º–µ–Ω—å—à–µ 2 —Å–∏–º–≤–æ–ª–æ–≤ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
        if (searchTerm.length === 0) {
            loadAllProducts();
        }
        return;
    }
    
    // –ò—â–µ–º —Ç–æ–≤–∞—Ä—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
    const foundProducts = Object.entries(products).filter(([id, product]) => 
        product.name.toLowerCase().includes(searchTerm)
    );
    
    if (foundProducts.length > 0) {
        showSearchResults(foundProducts, `–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: "${searchTerm}"`);
    } else {
        // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        const grid = document.getElementById('productsGrid');
        const pagination = document.getElementById('pagination');
        if (grid && pagination) {
            grid.innerHTML = '<div style="text-align: center; padding: 3rem; color: #666;">üòû –¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
            pagination.innerHTML = '';
        }
    }
}
    // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞
    function showProduct(article) {
        const product = products[article];
        if (!product) return;
        
        const allProducts = document.getElementById('allProducts');
        const singleProduct = document.getElementById('singleProduct');
        const productDetail = document.getElementById('productDetail');
        
        if (!allProducts || !singleProduct || !productDetail) return;

        allProducts.classList.add('hidden');
        singleProduct.classList.remove('hidden');
        
productDetail.innerHTML = `
    <div class="product-card" style="max-width: 800px; margin: 0 auto;">
        <div class="product-image" style="height: 500px; background: #f8f8f8; display: flex; align-items: center; justify-content: center; position: relative;">
            <img src="${product.image}" alt="${product.name}" 
                 style="max-width: 100%; max-height: 100%; object-fit: contain;"
                 onerror="this.style.display='none'; this.parentNode.innerHTML='üì∑ ${product.name}'">
            <div class="favorite-heart" data-product-id="${article}" onclick="toggleFavorite(${article})" style="
                position: absolute;
                top: 20px;
                right: 20px;
                background: white;
                border-radius: 50%;
                width: 50px;
                height: 50px;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                font-size: 1.5rem;
                box-shadow: 0 2px 10px rgba(0,0,0,0.2);
                z-index: 10;
            ">
                ${favorites.includes(parseInt(article)) ? '‚ù§Ô∏è' : 'ü§ç'}
            </div>
        </div>
                <div class="product-info">
                    <span class="product-article">‚Ññ${article}</span>
                    <h2>${product.name}</h2>
                    <div class="product-price" style="font-size: 1.8rem;">
                        ${product.oldPrice && product.hasDiscount ? `
                            <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                                <div style="display: flex; flex-direction: column;">
                                    <span style="text-decoration: line-through; color: #999; font-size: 0.9em;">${product.oldPrice}</span>
                                    <span style="color: #2c5530; font-weight: bold; font-size: 1.1em;">${product.price}</span>
                                </div>
                                <span style="background: #ff4444; color: white; padding: 5px 12px; border-radius: 15px; font-size: 1em; font-weight: bold;">
                                    –°–∫–∏–¥–∫–∞ ${Math.round((1 - extractNumber(product.price) / extractNumber(product.oldPrice)) * 100)}%
                                </span>
                            </div>
                        ` : `
                            <span>${product.price}</span>
                        `}
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1rem 0;">
                        <div>
                            <strong>üìè –†–∞–∑–º–µ—Ä:</strong>
                            <div style="margin-top: 0.5rem;">
<button class="size-btn active" style="
    background: #ffd700;
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 5px;
    font-weight: bold;
">${product.size}</button>
                            </div>
                        </div>
                        <div>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <strong>üìù –û–ø–∏—Å–∞–Ω–∏–µ:</strong>
                        <p class="product-description">${product.description}</p>
                    </div>
                    
                    <div class="product-actions">
                        <button class="cart-button" onclick="addToCart(${article})">
                            üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>
            </div>
        `;
    }

// –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
function showAllProducts() {
    const allProducts = document.getElementById('allProducts');
    const singleProduct = document.getElementById('singleProduct');
    
    if (allProducts && singleProduct) {
        allProducts.classList.remove('hidden');
        singleProduct.classList.add('hidden');
        // –û–ë–ù–û–í–õ–Ø–ï–ú —Å–µ—Ä–¥–µ—á–∫–∏ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        updateFavoriteHearts();
    }
}

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    function checkUrlParams() {
        const urlParams = new URLSearchParams(window.location.search);
        const article = urlParams.get('article');
        if (article && products[article]) {
            showProduct(article);
        }
    }

    // –§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
    function showAdminPanel() {
        const password = prompt("üîê –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:");
        if (password === ADMIN_PASSWORD) {
            document.getElementById('adminPanel').style.display = 'block';
            loadAdminStats();
            loadAdminProductsList();
            setupAdminSearch();
            setupDiscountCalculator();
        } else if (password) {
            alert("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!");
        }
    }

    function hideAdminPanel() {
        document.getElementById('adminPanel').style.display = 'none';
        editingProductId = null;
        resetAddForm();
    }
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞
function goToCategory(category) {
    showAllProducts(); // –°–Ω–∞—á–∞–ª–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
    setTimeout(() => {
        filterCategory(category); // –ü–æ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    }, 100);
}

// –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
function sortProducts(sortType) {
    let sortedProducts = Object.entries(products);
    
    switch(sortType) {
        case 'name_asc':
            sortedProducts.sort((a, b) => a[1].name.localeCompare(b[1].name));
            break;
        case 'name_desc':
            sortedProducts.sort((a, b) => b[1].name.localeCompare(a[1].name));
            break;
        case 'price_asc':
            sortedProducts.sort((a, b) => extractNumber(a[1].price) - extractNumber(b[1].price));
            break;
        case 'price_desc':
            sortedProducts.sort((a, b) => extractNumber(b[1].price) - extractNumber(a[1].price));
            break;
        default:
            // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –±–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
            break;
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
    showSortedResults(sortedProducts);
}

// –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
function showSortedResults(sortedProducts) {
    const grid = document.getElementById('productsGrid');
    if (!grid) return;
    
    grid.innerHTML = '';
    
    sortedProducts.forEach(([article, product]) => {
const productCard = `
    <div class="product-card" onclick="showProduct(${article})" style="cursor: pointer;">
        <div class="product-image">
            <img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.parentNode.innerHTML='üì∑ ${product.name}'">
            <div class="favorite-heart" data-product-id="${article}" onclick="event.stopPropagation(); toggleFavorite(${article})">ü§ç</div>
        </div>
        <div class="product-info">
            <span class="product-article">‚Ññ${article}</span>
            <h3>${product.name}</h3>
            <div class="product-price">${product.price}</div>
            <p><strong>–†–∞–∑–º–µ—Ä:</strong> ${product.size}</p>
            <div class="product-actions">
                <button class="cart-button" onclick="event.stopPropagation(); addToCart(${article})">
                    üõí –í –∫–æ—Ä–∑–∏–Ω—É
                </button>
            </div>
        </div>
    </div>
`;
        grid.innerHTML += productCard;
    });
    
    updateFavoriteHearts();
}

function loadAdminStats() {
    const statsContainer = document.getElementById('adminStats');
    if (!statsContainer) return;

    const totalProducts = Object.keys(products).length;
    
    statsContainer.innerHTML = `
        <div style="background: #e3f2fd; padding: 1rem; border-radius: 10px; text-align: center; grid-column: 1 / -1;">
            <div style="font-size: 2rem; font-weight: bold; color: #1976d2;">${totalProducts}</div>
            <div style="color: #333;">–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</div>
        </div>
    `;
}

    function setupDiscountCalculator() {
        const priceInput = document.getElementById('adminProductPrice');
        const oldPriceInput = document.getElementById('adminProductOldPrice');
        
        function calculateDiscount() {
            const price = priceInput?.value || '0';
            const oldPrice = oldPriceInput?.value || '0';
            calculateDiscountForInputs(price, oldPrice);
        }
        
        if (priceInput && oldPriceInput) {
            priceInput.addEventListener('input', calculateDiscount);
            oldPriceInput.addEventListener('input', calculateDiscount);
        }
    }

    function calculateDiscountForInputs(price, oldPrice) {
        const discountElement = document.getElementById('discountCalculation');
        if (!discountElement) return;

        const priceNum = parseFloat(price) || 0;
        const oldPriceNum = parseFloat(oldPrice) || 0;
        
        if (oldPriceNum > 0 && priceNum > 0 && oldPriceNum > priceNum) {
            const discount = Math.round((1 - priceNum / oldPriceNum) * 100);
            discountElement.innerHTML = `üéâ –°–∫–∏–¥–∫–∞: ${discount}% (–≠–∫–æ–Ω–æ–º–∏—è: ${oldPriceNum - priceNum} —Ä.)`;
            discountElement.style.color = '#2e7d32';
            discountElement.style.fontWeight = 'bold';
        } else if (oldPriceNum > 0) {
            discountElement.innerHTML = '‚ùå –¶–µ–Ω–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–Ω—å—à–µ —Å—Ç–∞—Ä–æ–π —Ü–µ–Ω—ã';
            discountElement.style.color = '#ff4444';
        } else {
            discountElement.innerHTML = '';
        }
    }

function addProductViaAdmin() {
    const name = document.getElementById('adminProductName')?.value;
    const price = document.getElementById('adminProductPrice')?.value;
    const oldPrice = document.getElementById('adminProductOldPrice')?.value;
    const category = document.getElementById('adminProductCategory')?.value;
    const size = document.getElementById('adminProductSize')?.value;
    const description = document.getElementById('adminProductDescription')?.value;
    const image = document.getElementById('adminProductImage')?.value;

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–µ–π
    if (!name || !price || !size || !description || !image || !category) {
        alert("‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è, –≤–∫–ª—é—á–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—é!");
        return;
    }

    if (editingProductId) {
        // –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–æ–≤–∞—Ä
        products[editingProductId] = {
            name: name,
            category: category,
            price: price + ' BYN',
            oldPrice: oldPrice ? oldPrice + ' BYN' : null,
            size: size,
            description: description,
            image: image,
            hasDiscount: oldPrice && parseInt(oldPrice) > parseInt(price)
        };
        alert("‚úÖ –¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!");
        editingProductId = null;
} else {
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä
    const newProductId = getNiceProductNumber();
    products[newProductId] = {
            name: name,
            category: category,
            price: price + ' BYN',
            oldPrice: oldPrice ? oldPrice + ' BYN' : null,
            size: size,
            description: description,
            image: image,
            hasDiscount: oldPrice && parseInt(oldPrice) > parseInt(price)
        };
        alert("‚úÖ –¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!");
    }

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
    saveProductsToStorage();

    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
    loadAdminStats();
    loadAdminProductsList();

    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
    resetAddForm();
}

    function formatPrice(input) {
        if (!input) return;
        
        // –£–±–∏—Ä–∞–µ–º –≤—Å—ë –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä –∏ —Ç–æ—á–∫–∏
        let value = input.value.replace(/[^\d.]/g, '');
        
        // –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ —Ç–æ—á–∫–∏ (–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é)
        const dots = value.split('.').length - 1;
        if (dots > 1) {
            value = value.replace(/\.+$/, '');
            const parts = value.split('.');
            value = parts[0] + (parts[1] ? '.' + parts[1] : '');
        }
        
        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–≤—É–º—è –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
        if (value.includes('.')) {
            const parts = value.split('.');
            if (parts[1].length > 2) {
                parts[1] = parts[1].substring(0, 2);
                value = parts[0] + '.' + parts[1];
            }
        }
        
        input.value = value;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–∞—Å—á–µ—Ç —Å–∫–∏–¥–∫–∏ –µ—Å–ª–∏ —ç—Ç–æ –ø–æ–ª–µ —Ü–µ–Ω—ã
        if (input.id === 'adminProductPrice' || input.id === 'adminProductOldPrice') {
            const priceInput = document.getElementById('adminProductPrice');
            const oldPriceInput = document.getElementById('adminProductOldPrice');
            if (priceInput && oldPriceInput) {
                calculateDiscountForInputs(priceInput.value, oldPriceInput.value);
            }
        }
    }

    function previewImageFromUrl(url) {
        const previewElement = document.getElementById('imagePreview');
        if (!previewElement) return;
        
        if (!url) {
            previewElement.innerHTML = '';
            return;
        }

        if (url.match(/\.(jpeg|jpg|gif|png|webp)$/) !== null) {
            const img = new Image();
            img.onload = function() {
                previewElement.innerHTML = `
                    <div style="margin-bottom: 10px;">
                        <img src="${url}" style="max-width: 250px; max-height: 200px; border-radius: 8px; border: 2px solid #4CAF50;">
                    </div>
                    <div style="color: #4CAF50; font-size: 14px;">
                        ‚úÖ –ö–∞—Ä—Ç–∏–Ω–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
                    </div>
                `;
            };
            img.onerror = function() {
                previewElement.innerHTML = '<div style="color: #ff4444;">‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É</div>';
            };
            img.src = url;
        } else if (url.trim() !== '') {
            previewElement.innerHTML = '<div style="color: #ff9800;">‚ö†Ô∏è –í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É</div>';
        }
    }

    function resetAddForm() {
        const nameInput = document.getElementById('adminProductName');
        const priceInput = document.getElementById('adminProductPrice');
        const oldPriceInput = document.getElementById('adminProductOldPrice');
        const sizeInput = document.getElementById('adminProductSize');
        const descriptionInput = document.getElementById('adminProductDescription');
        const imageInput = document.getElementById('adminProductImage');
        const categoryInput = document.getElementById('adminProductCategory');
        const discountElement = document.getElementById('discountCalculation');
        const previewElement = document.getElementById('imagePreview');
        
        if (nameInput) nameInput.value = '';
        if (priceInput) priceInput.value = '';
        if (oldPriceInput) oldPriceInput.value = '';
        if (sizeInput) sizeInput.value = '';
        if (descriptionInput) descriptionInput.value = '';
        if (imageInput) imageInput.value = '';
        if (categoryInput) categoryInput.value = 'jackets';
        if (discountElement) discountElement.innerHTML = '';
        if (previewElement) previewElement.innerHTML = '';
    }

    function setupAdminSearch() {
        const searchInput = document.getElementById('adminSearchInput');
        if (searchInput) {
            searchInput.addEventListener('input', function(e) {
                filterAdminProducts(e.target.value);
            });
        }
    }

function filterAdminProducts(searchTerm) {
    const container = document.getElementById('adminProductsList');
    if (!container) return;

    container.innerHTML = '';

    const filteredProducts = Object.entries(products).filter(([id, product]) => {
        const searchLower = searchTerm.toLowerCase();
        return (
            product.name.toLowerCase().includes(searchLower) ||
            product.price.toLowerCase().includes(searchLower) ||
            product.size.toLowerCase().includes(searchLower) ||
            product.description.toLowerCase().includes(searchLower) ||
            id.toString().includes(searchTerm)  // ‚Üê –ò–©–ï–ú –ü–û ID (–Ω–æ–º–µ—Ä—É —Ç–æ–≤–∞—Ä–∞)
        );
    });

    if (filteredProducts.length === 0) {
        container.innerHTML = '<div style="text-align: center; color: #666; padding: 2rem;">üòû –¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
        return;
    }

    filteredProducts.forEach(([id, product]) => {
        const productElement = document.createElement('div');
        productElement.style.cssText = `
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            background: white;
            margin-bottom: 0.5rem;
            border-radius: 5px;
        `;

        productElement.innerHTML = `
            <div style="flex: 1;">
                <strong>${product.name}</strong><br>
                <small>‚Ññ${id} | –¶–µ–Ω–∞: ${product.price} | –†–∞–∑–º–µ—Ä: ${product.size} | –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${product.category === 'jackets' ? 'üß• –ö—É—Ä—Ç–∫–∏' : 'üëñ –î–∂–∏–Ω—Å—ã'}</small>
            </div>
            <div style="display: flex; gap: 10px;">
                <button onclick="editProduct(${id})" style="
                    background: #4CAF50;
                    color: white;
                    border: none;
                    padding: 5px 10px;
                    border-radius: 3px;
                    cursor: pointer;
                    font-size: 12px;
                ">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <button onclick="deleteProduct(${id})" style="
                    background: #ff4444;
                    color: white;
                    border: none;
                    padding: 5px 10px;
                    border-radius: 3px;
                    cursor: pointer;
                    font-size: 12px;
                ">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
            </div>
        `;

        container.appendChild(productElement);
    });
}

    function clearAdminSearch() {
        const searchInput = document.getElementById('adminSearchInput');
        if (searchInput) {
            searchInput.value = '';
            loadAdminProductsList();
        }
    }

    function loadAdminProductsList() {
        const container = document.getElementById('adminProductsList');
        if (!container) return;

        container.innerHTML = '';

        for (const [id, product] of Object.entries(products)) {
            const productElement = document.createElement('div');
            productElement.style.cssText = `
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 1rem;
                border-bottom: 1px solid #eee;
                background: white;
                margin-bottom: 0.5rem;
                border-radius: 5px;
            `;

            productElement.innerHTML = `
                <div style="flex: 1;">
                    <strong>${product.name}</strong><br>
                    <small>–¶–µ–Ω–∞: ${product.price} | –†–∞–∑–º–µ—Ä: ${product.size} | –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${product.category === 'jackets' ? 'üß• –ö—É—Ä—Ç–∫–∏' : 'üëñ –î–∂–∏–Ω—Å—ã'}</small>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button onclick="editProduct(${id})" style="
                        background: #4CAF50;
                        color: white;
                        border: none;
                        padding: 5px 10px;
                        border-radius: 3px;
                        cursor: pointer;
                        font-size: 12px;
                    ">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                    <button onclick="deleteProduct(${id})" style="
                        background: #ff4444;
                        color: white;
                        border: none;
                        padding: 5px 10px;
                        border-radius: 3px;
                        cursor: pointer;
                        font-size: 12px;
                    ">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                </div>
            `;

            container.appendChild(productElement);
        }
    }

    function deleteProduct(productId) {
        if (confirm(`‚ùå –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä "${products[productId]?.name}"?`)) {
            delete products[productId];
            saveProductsToStorage();
            loadAdminStats();
            loadAdminProductsList();
            loadAllProducts(); // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
            alert("‚úÖ –¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω!");
        }
    }
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫—Ä–∞—Å–∏–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
function showNotification(message, type = 'success') {
    const notification = document.getElementById('notification');
    const notificationText = document.getElementById('notificationText');
    
    if (!notification || !notificationText) return;
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
    const colors = {
        'success': '#4CAF50',
        'warning': '#ff9800', 
        'error': '#ff4444'
    };
    
    notification.style.background = colors[type] || colors.success;
    notificationText.textContent = message;
    notification.style.opacity = '1';
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    notification.style.transform = 'translateX(-50%) translateY(20px)';
    
    // –°–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        notification.style.transform = 'translateX(-50%) translateY(-100px)';
        notification.style.opacity = '0';
    }, 2000);
}
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∫ —Ä–∞–∑–¥–µ–ª–∞–º
function updateProductsCategories() {
    const productIds = Object.keys(products);
    
    productIds.forEach((productId, index) => {
        if (index < 4) {
            products[productId].category = 'jackets'; // –ü–µ—Ä–≤—ã–µ 4 —Ç–æ–≤–∞—Ä–∞ - –∫—É—Ä—Ç–∫–∏
        } else {
            products[productId].category = 'jeans';   // –û—Å—Ç–∞–ª—å–Ω—ã–µ - –¥–∂–∏–Ω—Å—ã
        }
    });
    
    saveProductsToStorage();
    alert("‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω—ã! –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É.");
    loadAllProducts(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã
}
// –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
let categories = {
    'jackets': { name: '–ö—É—Ä—Ç–∫–∏' },
    'jeans': { name: '–î–∂–∏–Ω—Å—ã' }
};

// –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏–∑ localStorage
function loadCategoriesFromStorage() {
    const savedCategories = localStorage.getItem('vintageShopCategories');
    if (savedCategories) {
        categories = JSON.parse(savedCategories);
    } else {
        // –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Å–æ–∑–¥–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ
        categories = {
            'jackets': { name: '–ö—É—Ä—Ç–∫–∏', emoji: 'üß•' },
            'jeans': { name: '–î–∂–∏–Ω—Å—ã', emoji: 'üëñ' }
        };
        saveCategoriesToStorage();
    }
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ localStorage
function saveCategoriesToStorage() {
    localStorage.setItem('vintageShopCategories', JSON.stringify(categories));
}

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
function addNewCategory() {
    const categoryName = document.getElementById('newCategoryName').value.trim();
    if (!categoryName) {
        alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞!');
        return;
    }
    
    const categoryId = categoryName.toLowerCase().replace(/\s+/g, '_');
    
    if (categories[categoryId]) {
        alert('–†–∞–∑–¥–µ–ª —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!');
        return;
    }
    
    // –°–æ–∑–¥–∞–µ–º —Ä–∞–∑–¥–µ–ª –ë–ï–ó —ç–º–æ–¥–∑–∏
    categories[categoryId] = {
        name: categoryName
    };
    
    saveCategoriesToStorage();
    updateCategoriesList();
    updateCategorySelect();
    updateCategoryButtons();
    document.getElementById('newCategoryName').value = '';
    
    alert(`‚úÖ –†–∞–∑–¥–µ–ª "${categoryName}" –¥–æ–±–∞–≤–ª–µ–Ω!`);
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–∞–∑–¥–µ–ª–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ
function updateCategoriesList() {
    const container = document.getElementById('categoriesList');
    if (!container) return;
    
    container.innerHTML = '';
    
    Object.entries(categories).forEach(([id, category]) => {
        const categoryElement = document.createElement('div');
        categoryElement.style.cssText = `
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: white;
            margin-bottom: 0.5rem;
            border-radius: 5px;
            border: 1px solid #ddd;
        `;
        
// –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ —Ç–æ–≤–∞—Ä—ã –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
const hasProducts = Object.values(products).some(product => product.category === id);

categoryElement.innerHTML = `
    <div>
        <strong>${category.name}</strong>
        <small style="color: #666; margin-left: 10px;">ID: ${id}</small>
        ${hasProducts ? '<br><small style="color: #ff4444;">‚ö†Ô∏è –í —Ä–∞–∑–¥–µ–ª–µ –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã</small>' : ''}
    </div>
    <div style="display: flex; gap: 10px;">
        <button onclick="editCategory('${id}')" style="
            background: #2196F3;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        ">‚úèÔ∏è</button>
        <button onclick="deleteCategory('${id}')" style="
            background: ${hasProducts ? '#ccc' : '#ff4444'};
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        " ${hasProducts ? 'disabled' : ''}>üóëÔ∏è</button>
    </div>
`;
        
        container.appendChild(categoryElement);
    });
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ select –≤ —Ñ–æ—Ä–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
function updateCategorySelect() {
    const select = document.getElementById('adminProductCategory');
    if (!select) return;
    
    select.innerHTML = '';
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    const defaultOption = document.createElement('option');
    defaultOption.value = '';
    defaultOption.textContent = '-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é --';
    defaultOption.disabled = true;
    defaultOption.selected = true;
    select.appendChild(defaultOption);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    Object.entries(categories).forEach(([id, category]) => {
        const option = document.createElement('option');
        option.value = id;
        option.textContent = category.name;
        select.appendChild(option);
    });
}

// –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
function deleteCategory(categoryId) {
    if (Object.values(products).some(product => product.category === categoryId)) {
        alert('‚ùå –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Ä–∞–∑–¥–µ–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã!');
        return;
    }
    
    if (confirm(`–£–¥–∞–ª–∏—Ç—å —Ä–∞–∑–¥–µ–ª "${categories[categoryId].name}"?`)) {
        delete categories[categoryId];
        saveCategoriesToStorage();
        updateCategoriesList();
        updateCategorySelect();
        alert('‚úÖ –†–∞–∑–¥–µ–ª —É–¥–∞–ª–µ–Ω!');
    }
}
// –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
// –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
function editCategory(categoryId) {
    const newName = prompt('–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞:', categories[categoryId].name);
    if (newName) {
        categories[categoryId].name = newName;
        saveCategoriesToStorage();
        updateCategoriesList();
        updateCategorySelect();
        updateCategoryButtons();
        alert('‚úÖ –†–∞–∑–¥–µ–ª –æ–±–Ω–æ–≤–ª–µ–Ω!');
    }
}

// ‚ñº‚ñº‚ñº –í–°–¢–ê–í–¨ –°–Æ–î–ê —Ñ—É–Ω–∫—Ü–∏—é updateCategoryButtons ‚ñº‚ñº‚ñº

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–∞ —Å–∞–π—Ç–µ
function updateCategoryButtons() {
    const container = document.querySelector('.category-buttons');
    if (!container) return;
    
    container.innerHTML = '';
    
    // –ö–Ω–æ–ø–∫–∞ "–í—Å–µ —Ç–æ–≤–∞—Ä—ã"
    const allButton = document.createElement('button');
    allButton.className = 'category-button active';
    allButton.textContent = '–í—Å–µ —Ç–æ–≤–∞—Ä—ã';
    allButton.onclick = () => goToCategory('all');
    container.appendChild(allButton);
    
    // –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    Object.entries(categories).forEach(([id, category]) => {
        const button = document.createElement('button');
        button.className = 'category-button';
        button.textContent = category.name;
        button.onclick = () => goToCategory(id);
        container.appendChild(button);
    });
}
// –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤
function fixProductsCategories() {
    Object.entries(products).forEach(([id, product], index) => {
        if (!product.category) {
            // –ï—Å–ª–∏ —É —Ç–æ–≤–∞—Ä–∞ –Ω–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –Ω–∞–∑–Ω–∞—á–∞–µ–º –µ—ë
            if (index < 4) {
                product.category = 'jackets';
            } else {
                product.category = 'jeans';
            }
        }
    });
    saveProductsToStorage();
    alert("‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É.");
}
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    initializeProducts();
    loadFavoritesFromStorage();
    cleanupFavorites();
    loadCategoriesFromStorage();  
    updateCategorySelect();       
    updateCategoryButtons();      
    updateCategoriesList();  
    loadAllProducts();
    checkUrlParams();
    updateFavoriteHearts();
    
    const articleInput = document.getElementById('articleInput');
    if (articleInput) {
        articleInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchByArticle();
            }
        });
    }
});

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω–∫—É –ø—Ä–∏ ?admin –≤ URL
    if (window.location.href.includes('?admin')) {
        setTimeout(showAdminPanel, 1000);
    }
</script>
</body>
</html>
